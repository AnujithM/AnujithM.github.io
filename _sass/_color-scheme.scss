/* ---------- Color tokens ---------- */
/* Light (default) */
:root {
  color-scheme: light;
  --bg: #ffffff;
  --text: #0f172a;          /* slate-900 */
  --muted: #64748b;         /* slate-500 */
  --link: #2563eb;          /* blue-600 */
  --link-hover: #1d4ed8;    /* blue-700 */
  --surface: #f8fafc;       /* slate-50 */
  --border: #e5e7eb;        /* slate-200 */
  --shadow: 0 1px 2px rgba(0,0,0,.05);
  --radius: 10px;
}

/* Auto-dark when user prefers dark (only if no manual override) */
@media (prefers-color-scheme: dark) {
  :root {
    color-scheme: dark;
    --bg: #0b0f14;          /* near-black blue */
    --text: #e5e7eb;        /* slate-200 */
    --muted: #9aa3af;       /* slate-400 */
    --link: #8ab4f8;        /* google-ish blue */
    --link-hover: #a6c6fb;
    --surface: #0f141a;     /* panel */
    --border: #1f2937;      /* slate-800 */
    --shadow: 0 1px 2px rgba(0,0,0,.35);
  }
}

/* Manual override via [data-theme] â€” takes precedence over the media query */
:root[data-theme="light"] {
  color-scheme: light;
  --bg:#ffffff; --text:#0f172a; --muted:#64748b;
  --link:#2563eb; --link-hover:#1d4ed8;
  --surface:#f8fafc; --border:#e5e7eb; --shadow:0 1px 2px rgba(0,0,0,.05);
}
:root[data-theme="dark"] {
  color-scheme: dark;
  --bg:#0b0f14; --text:#e5e7eb; --muted:#9aa3af;
  --link:#8ab4f8; --link-hover:#a6c6fb;
  --surface:#0f141a; --border:#1f2937; --shadow:0 1px 2px rgba(0,0,0,.35);
}

/* ---------- Minimal theming hooks over AcademicPages/MinimalMistakes markup ---------- */
html, body { background: var(--bg); color: var(--text); }

/* Text + links */
a { color: var(--link); }
a:hover, a:focus { color: var(--link-hover); }

/* Headers / masthead / nav */
.masthead, .greedy-nav, .site-header, .page__hero, .breadcrumbs {
  background: var(--surface);
  border-bottom: 1px solid var(--border);
}

/* Main surfaces (cards/panels/boxes) */
.page, .page__inner-wrap, .archive, .archive__item, .sidebar, .notice,
.card, .toc, .highlight, .page__meta, .feature__wrapper, .feature__item {
  background: var(--surface);
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
  border-radius: var(--radius);
}

/* Code blocks */
pre, code, kbd, samp {
  background: var(--surface);
  border: 1px solid var(--border);
  color: var(--text);
}

/* Rules and borders */
hr, .border, .thin-border { border-color: var(--border); }

/* Optional: subtle transition so toggling feels nice */
body, .page, .masthead, .sidebar, .notice, .card, pre, code {
  transition: background-color .18s ease, color .18s ease, border-color .18s ease;
}

/* ---------- Toggle button style (you can tweak) ---------- */
.theme-toggle {
  appearance: none;
  background: var(--surface);
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: 999px;
  font: inherit;
  font-size: .9rem;
  padding: .35rem .7rem;
  cursor: pointer;
  box-shadow: var(--shadow);
}
.theme-toggle:hover { filter: brightness(1.02); }
